<script>
import Btn from '~/components/buttons/Btn';
import Hero from '~/components/sections/home/Hero';
import Features from '~/components/sections/home/Features';
import FeaturesSm from '~/components/sections/home/FeaturesSm';
import FxCol from '~/components/flex/FxCol';
import Layout from '~/components/layouts/Layout.vue';
import Teams from '~/components/sections/home/Teams';
import Information from '~/components/sections/home/Information';
import Price from '~/components/sections/home/Price';
import Movie from '~/components/sections/home/Movie';

export default {
    name: 'Homepage',
    components: { Btn, Hero, Features, FeaturesSm,  Teams, FxCol, Layout, Information, Price, Movie },
    layouts: 'default',
}
</script>

<script setup>
import { ref, onMounted } from '#imports';
// const config = useRuntimeConfig();
// const { data: activities } = await useFetch(`${config.API_URL}/api/activities?populate=images`);
// const { data: prices } = await useFetch(`${config.API_URL}/api/prices?populate=*`);
// const { data: informations } = await useFetch(`${config.API_URL}/api/informations?populate=*`);
// const { data: coaches } = await useFetch(`${config.API_URL}/api/coaches?populate=*`);
// const { data: movies } = await useFetch(`${config.API_URL}/api/movies?populate=*`);


const informations = [
    {
        id: 0,
        content: '<strong>Strefa siy</strong> jest to <strong>CrossBox</strong>, kt贸ry jest specjalnie przygotowany do prowadzenia zaj. Mo偶esz tutaj zrobi trening typu <strong>cross-training, kalisteniczny</strong>, jak i wykona trening obwodowy czy nawet gimnastyczny. Jest to miejsce, w kt贸rym zrobisz tak偶e <strong> sw贸j indywidualny trening siowy.</strong>',
        openHours: '<strong>Pon. - Pt. :</strong> 9:00 - 20:00 <br> <strong>Sob. - Nd. :</strong> 10:00 - 20:00',
        image: {
            name: 'Info',
            url: '/images/info/IMG_5749.jpg'
        },
        equipments: [
            {
                id: 0,
                content: 'Dr偶ki przymocowane na stae',
            },
            {
                id: 1,
                content: 'Brama do wicze, wycig g贸rny oraz dolny',
            },
            {
                id: 2,
                content: 'awki do podnoszenia ci偶ar贸w',
            },
            {
                id: 3,
                content: 'Dr偶ki przymocowane na stae',
            },
            {
                id: 4,
                content: 'Hantle, kettle, sztangi',
            },
            {
                id: 5,
                content: 'Gumy o r贸偶nej gruboci, rollery',
            },
            {
                id: 6,
                content: 'Liny do wspinaczki, k贸ka gimnastyczne',
            },
            {
                id: 7,
                content: 'Skakanki, worki treningowe',
            },
            {
                id: 8,
                content: 'Piki o r贸偶nych ci偶arach oraz do pilatesu',
            },
            {
                id: 9,
                content: 'Sanki obci偶eniowe, Ergometr, Air Bike',
            },
            {
                id: 8,
                content: 'Gonik do puszczania wasnej muzyki ',
            },
        ],

    }
]


const movies = [
    {
        id: 0,
        quote: '',
        video: {
            name: '',
            url: '/movies/VID_20220111_085707_Trim.mp4'
        }
    },
    {
        id: 1,
        quote: '',
        video: {
            name: '',
            url: '/movies/VID_20220111_090224.mp4'
        }
    },
]

const activities = ref([
    {
        id: 0,
        images: [
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
        ],
        title: 'Powerlifting',
        content: ' Na zajciach nauczysz si prawidowej techniki oraz wzmocnisz swoj si. Wpynie to korzystnie na og贸ln sprawno, a tak偶e wzmocni stawy. Pracujemy na stopniu amatorskim jak i zawodowym. Zajcia stanowi naturalny proces rozwoju dla os贸b chccych siga po wiksze obci偶enia, w bezpieczny i kontrolowany spos贸b dziki cigej opiece trenerskiej.'
    },
    {
        id: 1,
        images: [
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
        ],
        title: 'Cross-Training',
        content: 'Cross to zajcia kt贸re cz w sobie wytrzymao i si. G贸wnym celem zaj jest rozw贸j og贸lnej sprawnoci fizycznej. Trening charakteryzuje si wysok intensywnoci z wykorzystaniem ruch贸w funkcjonalnych. Zmienny charakter treningu nie pozwoli si Ci nudzi.'
    },
    {
        id: 2,
        images: [
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
        ],
        title: 'Cross Intro',
        content: 'Celem zaj jest wprowadzenie os贸b pocztkujcych do treningu Cross-Training oraz Powerliftingu. Na zajciach nauczysz si prawidowej techniki oraz wzmocnisz swoj si. Wpynie to korzystnie na og贸ln form i wprowadzi Ci na kolejny poziom sprawnoci.'
    },
    {
        id: 3,
        images: [
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
        ],
        title: 'Wake Up Cross',
        content: 'To poranny trening typu Cross, kt贸ry czy w sobie wytrzymao oraz si. G贸wnym celem zaj jest rozw贸j og贸lnej sprawnoci fizycznej. Trening charakteryzuje si wysok intensywnoci z wykorzystaniem ruch贸w funkcjonalnych. Trening na dzie dobry da Ci zastrzyk energii na cay dzie.'
    },
    {
        id: 4,
        images: [
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
        ],
        title: 'TBC',
        content: 'wiczenia og贸lnorozwojowe, anga偶ujce wszystkie partie miniowe. Celem jest rze藕ba caego ciaa, jego ujdrnienie, poprawa wytrzymaoci, wzmocnienie ukadu kr偶enia i wydolnociowego.'
    },
    {
        id: 5,
        images: [
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
        ],
        title: 'Paski brzuch',
        content: 'Celem jest spalenie tkanki tuszczowej, wzmocnienie i wyrze藕bienie mini brzuch, wzmocnienie mini core odpowiadajcych zaprawidow postaw i silny brzuch.'
    },
        {
        id: 6,
        images: [
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
            {
                url: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
                name: 'default'
            },
        ],
        title: 'Ninja-OCR',
        content: 'Tory przeszk贸d ninja i OCR.'
    },
]);

const coaches = [
    {
        id:  0,
        firstName: 'Paulina',
        lastName: 'niegowska',
        avatarUrl: '/images/users/paulina_sn/avatar/paulina.jpg',
        role: 'Trener strefy siy',
        description: 'Od ponad 11 lat trener rekreacji ruchowej ze specjalnoci fitness i aerobik, trener personalny, trener siowni, trener aktywnoci fizycznej kobiet w ci偶y. Uprawiam sport, bo go kocham praktycznie od dziecka. Uwa偶am, 偶e to wietny spos贸b na utrzymanie zdrowia fizycznego i psychicznego. W dzisiejszym wiecie ka偶da forma ruchu jest zbawienna i niezbdna, aby czu si dobrze z samym sob. Dlatego z wielk przyjemnoci przekazuj zgromadzon dotd wiedz i zara偶am pozytywn energi wszystkich wok贸. Wykonywanie pracy, kt贸r si kocha to ogromna rado.',
    },
    {
        id:  1,
        firstName: 'Tomasz',
        lastName: 'Dbrowski',
        avatarUrl: '/images/users/tomasz_do/avatar/tomasz.png',
        role: 'Trener strefy siy',
        description: 'Trenuje parkour od 16 lat. Od 6 lat bierze udzia r贸wnie偶 w biegach z przeszkodami OCR, w tym w kr贸tkich biegach typu ninja oraz OCR100. Dwukrotny uczestnik programu Ninja Warrior Polska. Wsp贸zao偶yciel Movement Areny Suwaki, projekt贸wa te偶 Parkour Park nad zalewem Arkadia w Suwakach.',
    },
    {
        id:  2,
        firstName: 'Adam',
        lastName: 'Stankiewicz',
        avatarUrl: '/images/users/adam_st/avatar/adam.jpg',
        role: 'Trener strefy siy',
        description: 'Z wyksztacenia ratownik medyczny, pasjonat sport贸w siowych (tj. dwub贸j siowy, tr贸jb贸j siowy czy crossfit) . Licencjonowany instruktor kulturystyki oraz Kettlebell level 1. Posiada rozleg wiedz z zakresu treningu, od偶ywiania oraz suplementacji. Ze sportem zwizany od najmodszych lat. Mistrz Polski w Tr贸jboju Siowym z roku 2019 w federacji WPC oraz kilkukrotny mistrz europy katgorii Masters w federacji XPC. Stale rozwija wiedz i umiejtnoci zwizane ze sportami siowymi.',
    },
];

const prices = [
    {
        id: 0,
        title: 'Karnet miesiczny na stref siy',
        classes: false,
        freeEntry: true,
        single: false,
        price: 95,
        package: [
            {info: 'Wejcia wolne'},
            {info: 'Wa偶ny 30 dni'},
        ]
    },
    {
        id: 1,
        title: 'Karnet 4 wejcia na zajcia w miesicu',
        classes: true,
        freeEntry: false,
        single: false,
        price: 80,
        package: [
            {info: '4 wejcia na zajcia'},
            {info: 'Wa偶ny 30 dni'},
        ]
    },
    {
        id: 2,
        title: 'Karnet miesiczny - zajcia',
        classes: true,
        freeEntry: false,
        single: false,
        price: 160,
        package: [
            {info: 'Wszyskie zajcia'},
            {info: 'Wejcia wolne'},
            {info: 'Wa偶ny 30 dni'},
        ]
    },
        {
        id: 3,
        title: 'Pojedycze wejscie wolne',
        classes: true,
        freeEntry: false,
        single: true,
        price: 19,
        package: [
            {info: 'Wejcia wolne na stref siy'},
            {info: 'Wejcie pojedycze'},

        ]
    },
            {
        id: 4,
        title: 'Pojedycze wejscie na zajcia',
        classes: true,
        freeEntry: false,
        single: true,
        price: 30,
        package: [
            {info: 'Wejcie na dowolne zajecia'},
            {info: 'Wejcie pojedycze'},

        ]
    },
];

const personalPrices = [
    {
        id: 0,
        title: 'Trening personalny',
        classes: false,
        freeEntry: true,
        price: 80,
        package: [
            {info: 'Trening pod okiem wykwalifikowanego trenera'},
            {info: 'Od zakupu do wykorzystania, wa偶ny 3 miesice.'},
        ]
    },
    {
        id: 1,
        title: 'Karnet 5 trening贸w personalnych ',
        classes: true,
        freeEntry: false,
        price: 375,
        package: [
            {info: 'Trening pod okiem wykwalifikowanego trenera'},
            {info: 'Od zakupu do wykorzystania, wa偶ny 3 miesice.'},
            {info: 'Do wykorzystania 5 trening贸w.'},
        ]
    },
    {
        id: 2,
        title: 'Karnet 10 trening贸w personalnych',
        classes: true,
        freeEntry: false,
        price: 700,
        package: [
            {info: 'Trening pod okiem wykwalifikowanego trenera'},
            {info: 'Od zakupu do wykorzystania, wa偶ny 3 miesice.'},
            {info: 'Do wykorzystania 10 trening贸w.'},
        ]
    },
]

const X = ref(null);
const Y = ref(null);
const movieSection = ref(null);
const featureSection = ref(null);

const imagesHero =  ref([
    {    
        title: 'Sprzt treningowy',
        content: 'R贸偶norodny sprzt i maszyny, z kt贸rymi wykonasz trening funkcjonalny.',
        src: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-7-1024x683.jpg',
        width: '100%', 
        height: '100%',
    },    
    {    
        title: 'Sprzt treningowy',
        content: '',
        src: 'https://movementarena.pl/suwalki/wp-content/uploads/2019/04/MAS_2-5-1024x683.jpg',
        width: '10rem', 
        height: '5rem',
    },
    {
        title: 'Sala treningowa',
        content: 'Przestrzenna i funkcjonalna sala, na kt贸rej wykonasz sw贸j trening.',
        src: 'https://movementarena.pl/suwalki/wp-content/uploads/2020/06/MG_0530-1024x683.jpg',
        width: '20rem', 
        height: '12rem',
    },
])

function handleScroll() {
    if (window.scrollY >= movieSection.value.offsetHeight + window.innerHeight * 2 ) {
        X.value = -(window.scrollY - (movieSection.value.offsetHeight + window.innerHeight * 2 ));
    }

    if (X.value <= -(featureSection.value.offsetHeight - window.innerWidth)) {
    
        X.value = -(featureSection.value.offsetHeight - window.innerWidth);
    }

    if (window.scrollY < movieSection.value.offsetHeight) {
    
        X.value = 0;
    }
}

onMounted(() => {
    document.addEventListener('scroll', handleScroll);
})
</script>

<template>
    <div class="flex flex-wrap justify-center snap-y snap-mandatory relative w-full min-h-full transition duration-500 ease-in-out">
        <section id="hero" ref="heroSection" class="snap-start scroll-mt-0 relative block h-screen w-full"> 
            <hero :imagesHero="imagesHero" />
        </section>

        <section id="information" ref="informationSection" class="snap-start scroll-mt-0 relative block md:h-screen w-full"> 
            <information :information="informations[0]"  />
        </section>

        <section id="movie" ref="movieSection" class="snap-start scroll-mt-0 relative hidden md:block w-full md:h-[390px] lg:h-[730px]">
            <movie :movies="movies" />
        </section>

        <section id="feature" ref="featureSection" class="snap-start hidden md:block scroll-mt-0 min-h-full relative m-auto w-screen" :style="{'height': `${activities.length * 100}vw`}" >
            <features class="hidden md:flex" :x="X" :y="Y" :activities="activities" />
        </section>

        <section id="feature-sm" ref="featureSection-sm" class="snap-start block mb-20 md:hidden scroll-mt-0 relative m-auto w-screen" >
            <features-sm class="flex md:hidden min-h-full" :activities="activities" />
        </section>

        <section id="team" ref="teamSection" class="snap-start scroll-mt-0 relative block m-auto w-full" >
            <teams :teams="coaches"/>
        </section>

        <section id="price" ref="priceSection" class="snap-start scroll-mt-0 relative block m-auto w-full min-h-full" >
            <price :prices="prices"  :personalPrices="personalPrices" />
        </section>
    </div>
</template>
